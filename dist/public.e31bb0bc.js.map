{"version":3,"sources":["index.js"],"names":["print_filter","filter","f","eval","length","top","Infinity","dimension","d","console","log","JSON","stringify","replace","dayFormat","d3","timeFormat","numFormatLg","format","numFormat","monthName","monthFormat","remove_empty_bins","source_group","all","value","window","loadData","json","data","parse","updateObjects","i","Date","fieldData","Year","getFullYear","forEach","facts","crossfilter","companiesKey","companiesDim","companiesGroup","group","companiesBarChart","dc","barChart","renderLabel","clipPadding","height","x","scaleBand","xUnits","units","ordinal","colorAccessor","elasticX","elasticY","ordinalColors","renderAll"],"mappings":"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","file":"public.e31bb0bc.js","sourceRoot":"../public","sourcesContent":["function print_filter(filter) {\n  var f = eval(filter);\n  if (typeof f.length != \"undefined\") {\n  } else {\n  }\n  if (typeof f.top != \"undefined\") {\n    f = f.top(Infinity);\n  } else {\n  }\n  if (typeof f.dimension != \"undefined\") {\n    f = f\n      .dimension(function (d) {\n        return \"\";\n      })\n      .top(Infinity);\n  } else {\n  }\n  console.log(\n    filter +\n      \"(\" +\n      f.length +\n      \") = \" +\n      JSON.stringify(f)\n        .replace(\"[\", \"[\\n\\t\")\n        .replace(/}\\,/g, \"},\\n\\t\")\n        .replace(\"]\", \"\\n]\")\n  );\n}\nvar dayFormat = d3.timeFormat(\"%d\");\nvar numFormatLg = d3.format(\"~s\");\nvar numFormat = d3.format(\",\");\nvar monthName = d3.timeFormat(\"%B\");\nvar monthFormat = d3.timeFormat(\"%m\");\n\nfunction remove_empty_bins(source_group) {\n  return {\n    all: function () {\n      return source_group.all().filter(function (d) {\n        return d.value != 0;\n      });\n    },\n  };\n}\n\nwindow.loadData = function (json) {\n  var data = JSON.parse(json);\n  console.log(data);\n  var updateObjects = function (d, i) {\n    //basic items. Remove if necessary\n    d.Date = new Date(d.fieldData.Date);\n    d.Year = d.Date.getFullYear();\n    // d.Day = dayFormat(currDate);\n    // d.Month = currDate.getMonth();\n  };\n\n  data.forEach(updateObjects);\n  var facts = crossfilter(data);\n\n  var companiesKey = \"Companies::Name\";\n  var companiesDim = facts.dimension(function (d) {\n    return d.fieldData[companiesKey];\n  });\n  var companiesGroup = companiesDim.group();\n  print_filter(companiesGroup);\n  window.companiesBarChart = dc.barChart(\"#companiesBarChart\");\n\n  companiesBarChart\n    .group(companiesGroup)\n    .dimension(companiesDim)\n    .renderLabel(true)\n    .clipPadding(100)\n    .height(400)\n    .x(d3.scaleBand())\n    .xUnits(dc.units.ordinal)\n    .colorAccessor(function (d, i) {\n      return i;\n    })\n    .elasticX(true)\n    .elasticY(true)\n    .ordinalColors([\"#001EBA\", \"#05147D\", \"#35459E\", \"#003B74\", \"#0B42FF\"]);\n\n  dc.renderAll();\n};\n"]}